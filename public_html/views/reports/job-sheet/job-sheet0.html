<div ng-app="job-sheet" ng-controller="job-sheet-cntrl as myCntrl">

    <div class="row wrapper border-bottom white-bg page-heading">
        <div class="col-lg-10">
            <h2><strong>Job Sheet Creation</strong></h2>
            <small>View all work completed by job number</small>
        </div>
    </div>

    <div class="ibox float-e-margins">
        <div class="ibox-title">
            <strong>Job List</sup> </strong>

            <button class="btn pull-right" ng-click="expandColumns()" uib-tooltip="Click to Show/Hide Extra Columns">Expand >></button>
            </br>
            </br>
        </div>
        <div class="ibox-content">
            <div ng-if="!jobLoaded">
                <div ng-if="initilised">
                    <table id="foobar" datatable="ng" class="table table-striped table-bordered table-hover dataTables-example" dt-options="dtOptions" dt-column-defs="dtColumnDefs">
                        <thead>
                            <tr>
                                <th>Job Number</th>
                                <th>Description</th>
                                <th>Last Worked On </th>
                                <th>Customer </th>
                                <th>Machine</th>
                                <th>Tacho</th>
                                <th>Site</th>
                                <th>Order Number</th>
                                <th>ID Number</th>

                            </tr>
                        </thead>
                        <tbody style="font-size:11px;">
                            <tr ng-repeat="job in ::jobNumbers">


                                <td>{{ ::job.Job_Number }}</td>
                                <td>{{ ::job.Description }}</td>
                                <td>{{ ::job.Last_Worked }}</td>
                                <td>{{ ::job.Customer }}</td>
                                <td>{{ ::job.Machine }}</td>
                                <td>{{ ::job.Tacho }}</td>
                                <td>{{ ::job.Site }}</td>
                                <td>{{ ::job.OrderNumber }}</td>
                                <td>{{ ::job.ID_Number }}</td>


                            </tr>
                        </tbody>
                    </table>

                </div>
            </div>
        </div>
    </div>


    <div class="ibox float-e-margins">
        <div class="ibox-title">
            <strong>Job Sheet</sup> </strong>
        </div>
        <div class="ibox-content">


            <div ng-if="jobLoaded">
                <table id="foobar2" datatable="ng" class="table table-striped table-bordered table-hover dataTables-example" dt-options="dtOptions" dt-column-defs="dtColumnDefs2">
                    <thead>
                        <tr>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                        </tr>

                    </thead>
                    <tbody style="font-size:11px;">
                        <tr>
                            <td>1</td>
                            <td>Job No.</td>
                            <td>{{selectedJobNumber.Job_Number}}</td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                        </tr>
                        <tr>
                            <td>2</td>
                            <td>Customer</td>
                            <td>{{selectedJobNumber.Customer}}</td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                        </tr>
                        <tr>
                            <td>3</td>
                            <td>Description</td>
                            <td>{{myDescription }}</td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                        </tr>
                        <tr>
                            <td>4</td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                        </tr>
                        <tr>
                            <td>5</td>
                            <td>Machine</td>
                            <td>{{selectedJobNumber.Machine}}</td>
                            <td>Tacho</td>
                            <td>{{selectedJobNumber.Tacho}}</td>
                            <td>Site</td>
                            <td>{{selectedJobNumber.Site}}</td>
                            <td></td>
                        </tr>
                        <tr>
                            <td>6</td>
                            <td>Order No.</td>
                            <td>{{selectedJobNumber.OrderNumber}}</td>
                            <td>ID No.</td>
                            <td>{{selectedJobNumber.ID_Number}}</td>
                            <td></td>
                            <td></td>
                            <td></td>
                        </tr>
                        <tr>
                            <td>7</td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                        </tr>

                        <tr>
                            <td>8</td>
                            <td>Date</td>
                            <td>Start</td>
                            <td>End</td>
                            <td>Duration</td>
                            <td>Comments</td>
                            <td>Materials</td>
                            <td>Employee</td>
                        </tr>

                        <tr ng-repeat="work in ::selectedJob">
                            <td>{{rowDataStart + $index}}</td>

                            <td>{{ ::work.date}}</td>
                            <td>{{ ::work.starttime }}</td>
                            <td>{{ ::work.stoptime }}</td>
                            <td>{{ ::work.duration}}</td>
                            <td>{{ ::work.comments }}</td>
                            <td>{{ ::work.materials }}</td>
                            <td>{{ ::work.firstname }}</td>



                        </tr>
                        <tr>
                            <td>100000000</td>
                            <td>Total Duration</td>
                            <td>{{totalDurationString}}</td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                        </tr>

                    </tbody>
                </table>
            </div>
        </div>
    </div>


</div>
